<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Reciprocating Air Compressor</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Reciprocating Air Compressor</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a
                class="nav-link active"
                aria-current="page"
                href="../index.html"
                >Home</a
              >
            </li>

            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Single acting
              </a>
              <ul class="dropdown-menu">
                <span
                  class="ps-3 text-body-secondary"
                  style="font-size: small;"
                >
                  Single Stage
                </span>
                <li>
                  <a href="./sasss.html" class="dropdown-item">Specification</a>
                </li>
                <li>
                  <a href="./sassc.html" class="dropdown-item active"
                    >Calculation</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <span
                  class="ps-3 text-body-secondary"
                  style="font-size: small;"
                >
                  Double Stage
                </span>
                <li>
                  <a href="./sadss.html" class="dropdown-item">Specification</a>
                </li>
                <li>
                  <a href="./sadsc.html" class="dropdown-item">Calculation</a>
                </li>
                <li><hr class="dropdown-divider" /></li>
                <span
                  class="ps-3 text-body-secondary"
                  style="font-size: small;"
                >
                  Multi Stage
                </span>
                <!-- <li><a href="./samss.html" class="dropdown-item">Specification</a></li> -->
                <li>
                  <a href="./samsc.html" class="dropdown-item">Calculation</a>
                </li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Double acting
              </a>
              <ul class="dropdown-menu">
                <span
                  class="ps-3 text-body-secondary"
                  style="font-size: small;"
                >
                  Single Stage
                </span>
                <li>
                  <a href="./dasss.html" class="dropdown-item">Specification</a>
                </li>
                <li>
                  <a href="./dassc.html" class="dropdown-item">Calculation</a>
                </li>
                <li><hr class="dropdown-divider" /></li>
                <span
                  class="ps-3 text-body-secondary"
                  style="font-size: small;"
                >
                  Multi Stage
                </span>
                <li>
                  <a href="./damss.html" class="dropdown-item">Specification</a>
                </li>
                <li>
                  <a href="./damsc.html" class="dropdown-item">Calculation</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container pt-3">
      <div class="fs-4 text-center my-3">Single Acting Single Stage Calculation</div>
      <div class="row">
        <div class="col-md-6">
          <div class="container">
            <div class="p-2 bg-secondary-subtle border">Input</div>
            <div class="p-3 border">
              <table class="table table-borderless">
                <tbody>
                  <tr>
                    <td>
                      Inlet Pressure(bar) (P<sub>1</sub>)
                    </td>
                    <td style="width: 30%;">
                      <input type="number" class="form-control" id="p1" />
                    </td>
                  </tr>
                  <tr>
                    <td>
                      Outlet Pressure(bar) (P<sub>2</sub>)
                    </td>
                    <td style="width: 30%;">
                      <input type="number" class="form-control" id="p2" />
                    </td>
                  </tr>
                  <tr>
                    <td>Inlet temperature 0<sub>c</sub> (T<sub>1</sub>)</td>
                    <td>
                      <input type="number" class="form-control" id="t1" />
                    </td>
                  </tr>
                  <tr>
                    <td>Stroke (L) in mm</td>
                    <td>
                      <input type="number" class="form-control" id="L" />
                    </td>
                  </tr>
                  <tr>
                    <td>Diameter(D<sub>LP</sub>) in mm</td>
                    <td>
                      <input type="number" class="form-control" id="dlp" />
                    </td>
                  </tr>
                  <tr>
                    <td>Clearance ratio(C)</td>
                    <td>
                      <input type="number" class="form-control" id="c" onblur="this.value = this.value/100" />
                    </td>
                  </tr>
                  <tr>
                    <td>Polytropic ratio(n)</td>
                    <td>
                      <input type="number" class="form-control" id="n" />
                    </td>
                  </tr>
                </tbody>
                <tfoot>
                  <tr>
                    <td colspan="2" class="text-center">
                      <button
                        class="btn btn-primary"
                        id="btncalc"
                        onclick="calculate()"
                      >
                        Calculate
                      </button>
                    </td>
                  </tr>
                </tfoot>
              </table>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="container">
            <div class="p-2 bg-secondary-subtle border">Output</div>
            <div class="p-3 border">
              <ul>
                <li class="pb-3">
                  Suction volume (m<sup>3</sup>) :
                  <label class="fw-bold" id="v1"></label>
                </li>
                <li class="pb-3">
                  Swept volume (m<sup>3</sup>) :
                  <label class="fw-bold" id="vs"></label>
                </li>
                <li class="pb-3">
                  Clearance volume (m<sup>3</sup>) :
                  <label class="fw-bold" id="v3"></label>
                </li>
                <li class="pb-3">
                  Discharge volume (m<sup>3</sup>) :
                  <label class="fw-bold" id="v4"></label>
                </li>
                <li class="pb-3">
                  Outlet temperature (O<sub>c</sub>) :
                  <label class="fw-bold" id="t2"></label>
                </li>
                <li class="pb-3">
                  Work done (j) : <label class="fw-bold" id="w"></label>
                </li>
                <li class="pb-3">
                  Volumetric efficiency n<sub>v</sub> :
                  <label class="fw-bold" id="nv"></label>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="./app.js"></script>
    <script>
      (function () {
        document.querySelector("#L").value = sasss_constants.L;
        document.querySelector("#dlp").value = sasss_constants.dlp;
        document.querySelector("#n").value = sasss_constants.n;
      })();

      // function updatep1a(){
      //     let p1g = document.querySelector("#p1g").value
      //     if(p1g == "") document.querySelector("#p1a").value = ""
      //     else document.querySelector("#p1a").value =  101325 + (Number(p1g) * 98066.5)
      // }

      function calculate() {
        let p1 = document.querySelector("#p1").value;
        let p2 = document.querySelector("#p2").value;
        let t1 = document.querySelector("#t1").value;
        let L = document.querySelector("#L").value;
        let dlp = document.querySelector("#dlp").value;
        let c = document.querySelector("#c").value;
        let n = document.querySelector("#n").value;

        if (
          p1 == "" ||
          p2 == "" ||
          t1 == "" ||
          L == "" ||
          dlp == "" ||
          c == "" ||
          n == ""
        ) {
          alert("Please enter all value");
          return;
        }

        p1 = Number(p1);
        p2 = Number(p2);
        t1 = Number(t1);
        L = Number(L);
        dlp = Number(dlp);
        c = Number(c) / 100;
        n = Number(n);

        let vs = (Math.PI / 4) * Math.sqrt(dlp) * L * Math.pow(10, -9);
        let v3 = c * vs;
        let v1 = vs + v3;
        let v4 = v3 * Math.pow(p2 / p1, 1 / n);
        let t2 = t1 * Math.pow(p2 / p1, (n - 1) / n) + 273;
        let w =
          (n / (n - 1)) *
          p1 *
          Math.pow(10, 5) *
          ((v1 - v4) * (Math.pow(p2 / p1, (n - 1) / n) - 1));
        let nv = (1 + c - c * Math.pow(p2 / p1, 1 / n)) * 100;

        debugger
        document.querySelector("#v1").innerHTML = v1.toFixed(8);
        document.querySelector("#vs").innerHTML = vs.toFixed(8);
        document.querySelector("#v3").innerHTML = v3.toFixed(10);
        document.querySelector("#v4").innerHTML = v4.toFixed(10);
        document.querySelector("#t2").innerHTML = t2.toFixed(6);
        document.querySelector("#w").innerHTML = w.toFixed(6);
        document.querySelector("#nv").innerHTML = nv.toFixed(6);
      }

      function clear() {
        document.querySelector("#v1").innerHTML = "";
        document.querySelector("#vs").innerHTML = "";
        document.querySelector("#v3").innerHTML = "";
        document.querySelector("#v4").innerHTML = "";
        document.querySelector("#t2").innerHTML = "";
        document.querySelector("#w").innerHTML = "";
        document.querySelector("#nv").innerHTML = "";
      }
    </script>
  </body>
</html>
