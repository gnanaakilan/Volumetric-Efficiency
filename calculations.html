<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Volumetric Efficiency</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
      integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Volumetric Efficiency</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="procedure.html">Procedure</a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link "
               
                href="specification.html"
                >Specifications</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="precaution.html">Precaution</a>
            </li>
            <li class="nav-item">
              <a class="nav-link  active"  aria-current="page" href="calculations.html">Calculations</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <main class="container pt-3">
      <div class="row">
        <div class="col-md-6">
          <div class="container">
            <div class="p-2 bg-secondary-subtle border">Input</div>
            <div class="p-3 border">
              <table class="table table-borderless">
                <tbody>
                  <tr>
                    <td >
                        Inlet Pressure (Kg/cm<sup>2</sup>) (P<sub>1 gauge</sub>)
                    </td>
                    <td>
                      <input type="number" class="form-control" id="p1g" onkeyup="updatep1a()" />
                    </td>
                  </tr>
                  <tr>
                    <td >
                      P<sub>1 abs</sub> (bar)
                    </td>
                    <td>
                      <input type="number" class="form-control" id="p1a" disabled/>
                      <!-- 1.01325+(P_1  Ã— 0.9806) -->
                    </td>
                  </tr>
                  <tr>
                    <td>Outlet pressure (P<sub>3</sub>)</td> 
                    <td>
                      <input type="number" class="form-control" id="p3" />
                    </td>
                  </tr>
                  <tr>
                    <td>Inlet temperature 0<sub>c</sub> (T<sub>1</sub>)</td>
                    <td>
                      <input type="number" class="form-control" id="t1" />
                    </td>
                  </tr>
                  <tr>
                    <td>Bore (D<sub>LP</sub>)</td>
                    <td>
                      <input type="number" class="form-control" id="dlp" />
                    </td>
                  </tr>
                  <tr>
                    <td>Stroke (L<sub>1</sub>)</td>
                    <td>
                      <input type="number" class="form-control" id="l1" />
                    </td>
                  </tr>
                  <tr>
                    <td >Motor speed/Compressor speed (N)</td>
                    <td>
                      <input type="number" class="form-control" id="n" />
                    </td>
                  </tr>
                  <tr>
                    <td>Manometric head (h<sub>w</sub>)</td>
                    <td>
                      <input type="number" class="form-control" id="hw" />
                    </td>
                  </tr>
                  <tr>
                    <td>coefficient of discharge (C<sub>d</sub>)</td>
                    <td>
                      <input type="number" class="form-control" id="cd" />
                    </td>
                  </tr>
                </tbody>
                <tfoot>
                  <tr>
                    <td colspan="2" class="text-center">
                      <button class="btn btn-primary" id="btncalc"  onclick="calculate()">
                        Calculate
                      </button>
                    </td>
                  </tr>
                </tfoot>
              </table>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="container">
            <div class="p-2 bg-secondary-subtle border">Output</div>
            <div class="p-3 border">
                <ul>
                    <li class="pb-3">Density of air p<sub>a</sub> : <label class="fw-bold" id="pa"></label></li>
                    <li class="pb-3">Air ahead causing the flow of air h<sub>a</sub> : <label class="fw-bold" id="ha"></label></li>
                    <li class="pb-3">Area of orifice a : <label class="fw-bold" id="a"></label></li>
                    <li class="pb-3">Actual volume of free air delivered V<sub>a</sub> : <label class="fw-bold" id="va"></label></li>
                    <li class="pb-3">mass of air supplied m<sub>a</sub> : <label class="fw-bold" id="ma"></label></li>
                    <li class="pb-3">Theoretical volume of air delivered  V<sub>TH</sub> : <label class="fw-bold" id="vth"></label></li>
                    <li class="pb-3">Total Volumetric efficiency n<sub>v</sub> : <label class="fw-bold" id="nv"></label></li>
                </ul>
            </div>
          </div>
        </div>
      </div>
    </main>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="app.js"></script>
    <script>

        (function(){
            document.querySelector("#dlp").value = constants.dlp;
            document.querySelector("#l1").value = constants.l1;
            document.querySelector("#n").value = constants.n;
            document.querySelector("#cd").value = constants.cd;
        })();


        function updatep1a(){
            let p1g = document.querySelector("#p1g").value
            if(p1g == "") document.querySelector("#p1a").value = ""
            else document.querySelector("#p1a").value =  1.01325 + (Number(p1g) * 0.9806)
        }

        function calculate(){

            let p1g = document.querySelector("#p1g").value
            let p1a = document.querySelector("#p1a").value
            let p3 = document.querySelector("#p3").value
            let t1 = document.querySelector("#t1").value
            let dlp = document.querySelector("#dlp").value
            let l1 = document.querySelector("#l1").value
            let n = document.querySelector("#n").value
            let hw = document.querySelector("#hw").value
            let cd = document.querySelector("#cd").value

            if(p1g == "" || p1a == "" || p3 == "" || t1 == "" || dlp == "" || l1 == ""
                || n == "" || hw == "" || cd == ""
            ){
                alert("Please enter all value")
                return
            }

            p1g = Number(p1g)
            p1a = Number(p1a)
            p3 = Number(p3)
            t1 = Number(t1)
            dlp = Number(dlp)
            l1 = Number(l1)
            n = Number(n)
            hw = Number(hw)
            cd = Number(cd)

            let pa = (p1a / (287 * (t1 + 273)))
            let ha = hw / pa
            let a = (Math.PI / 4) * Math.pow(constants.d , 2)  * Math.pow(10, -6)
            let va = cd * a * Math.sqrt(2 * 9.8 * ha)
            let ma = pa * va
            let vlp = (Math.PI / 4) * Math.pow(dlp,2) * l1 * Math.pow(10,-9)
            let vth = (vlp * n) / 60
            let nv = (va / vth) * 100

            document.querySelector("#pa").innerHTML = pa.toFixed(6)
            document.querySelector("#ha").innerHTML = ha.toFixed(6)
            document.querySelector("#a").innerHTML = a.toFixed(6)
            document.querySelector("#va").innerHTML = va.toFixed(6)
            document.querySelector("#ma").innerHTML = ma.toFixed(6)
            document.querySelector("#vth").innerHTML = vth.toFixed(6)
            document.querySelector("#nv").innerHTML = nv.toFixed(6)
        }


        function clear(){
            document.querySelector("#pa").innerHTML = ""
            document.querySelector("#ha").innerHTML = ""
            document.querySelector("#a").innerHTML = ""
            document.querySelector("#va").innerHTML = ""
            document.querySelector("#ma").innerHTML = ""
            document.querySelector("#vth").innerHTML = ""
            document.querySelector("#nv").innerHTML = ""
        }

    </script>
  </body>
</html>
